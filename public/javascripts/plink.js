CloudFlare.define("prosperlinks",["prosperlinks/config","cloudflare/jquery1.7"],function(s,d){var I=s.account_id,t="1"==s.pl_hoverBox?!0:!1,q=s.pl_underline,A=s.pl_limit,C="1"==s.pl_enableLinkAffiliation?!0:!1,D=d.browser,y=D.msie;window.alreadyLinked=[];window.prosperLinks={};window.prosperLinks_sendContent={};window.prosperLinks_affUrls=[];window.numberOfLinks=0;window.prosperLinks_results=[];window.wasRun=window.wasRun?window.wasRun+1:1;var E=function(c){var d=document.getElementsByTagName("head")[0],
j=document.createElement(c.e),n="http://prosperent.com"+("link"==c.e?"/resources/css/prosperlinks/"+c.file:"/js/"+c.file);j.src="script"==c.e?n:!1;j.href="link"==c.e?n:!1;j.rel="link"==c.e?"stylesheet":!1;j.type=c.type;d.appendChild(j)},u={css:function(c){E(c)},js:function(c){E(c)},meta:function(c){var e="<meta ",j;for(j in c)e+=j+'="'+c[j]+'" ';d("head").append(e+"/>")}};"undefined"!==typeof t&&!0==t&&(u.css({e:"link",type:"text/css",file:"main.css"}),y&&u.css({e:"link",type:"text/css",file:7>=d.browser.version?
"ie7.css":"ie.css"}));y&&u.meta({"http-equiv":"X-UA-Compatible",content:"IE=edge"});var v={excludes:function(){return"html,head,style,header,footer,title,link,meta,script,object,iframe,h1,h2,h3,h4,h5,h6,a,button,input,cite,q,applet,param,select,option,svg,strong,textarea,noscript,dt,dd,dl,var,img,caption,code,abbr,label"},ids:function(){return"sidebar footer header navbar subnavbar seo_links thread_info similar_threads options_block_container".split(" ")},className:function(){return"sub jhl meta blog_entry_date header sig smallfont postmeta h1 h2 h3 h4 h5 h6 after_content posthead gB twitter_box".split(" ")},
goog:function(){return regx=/googleads|googleadservices/i},preFilt:function(){return"script,.prosperent-pl-no-render,.meta,#navbar,#subnavbar,header,footer,#sidebar,#footer,#header,.blog_entry_date,#seo_links,p.header,.vbmenu_popup,.sig,.smallfont,strong,applet,embed,object,link,param,select,option,svg,textarea,head,title,meta,link,noscript,a,.after_content,.posthead,.userinfo,dt,dd,dl,#thread_info,#similar_threads,#options_block_container,.gB,.twitter_box,link,var,style,select,object,img,caption,code,abbr,input,button,h2,h3,h4,h5,h6,.h1,.h2,.h3,.h4,.h5,.h6,cite,label,.postmeta"}},
J=function(){var c="undefined"===typeof q||1==q?"text-decoration:underline;":"text-decoration:none;",c="undefined"!==typeof q&&2==q?"text-decoration:none;border-bottom:3px double;":c;return c="undefined"!==typeof q&&"none"==q?"text-decoration:none;":c},F=function(c){el=document.createElement(c.el);d(c.att).each(function(){el.setAttribute(this.name,this.av)});return el},G=function(c){return c.string.length>c.limit?c.string.slice(0,c.limit)+" ...":c.string},H={_anchors:function(){return window.prosperLinks.selectors.body.find("a")},
_html:function(){return document.body.innerHTML},match:function(){var c=this._anchors();if(null!=c&&"undefined"!=c&&0<c.length)for(var e=0;e<=c.length-1;++e)d(c[e]).addClass("prosp-pl-affrep"+e),this.href=d(c[e]).attr("href"),this.text=d(c[e]).text(),null!=this.href&&"undefined"!=this.href&&(this.match=this.href.match(RegExp("\\b"+window.location.hostname+"\\b","i")),null==this.match&&"undefined"!=this.match&&window.prosperLinks_affUrls.push({text:this.text,href:this.href,classAttr:"prosp-pl-affrep"+
e}))},replace:function(c){0<c.length&&(null!=c&&"undefined"!=c)&&window.prosperLinks.selectors.a.each(function(){d(this).click(function(){for(var e=0;e<=c.length-1;++e)!0==d(this).hasClass(c[e][0].classAttr)&&(d(this).attr("href","javascript:void(0);"),location.href=c[e][0].affiliate_url)})})}};d("a").each(function(){!0==v.goog().test(d(this).attr("href"))&&d(this).parent().addClass("prosperent-pl-no-render")});var w={_discountImg:'<img class="discount-pl" src="http://prosperent.com/resources/img/prosperlinks/discount3.png" />',
_startTable:'<table class="table-pl" cellpadding="0" cellspacing="0">',_endTable:"</table>",init:function(){},sortRows:function(c){c.sort(function(c,d){return c.price-d.price});return c},createRows:function(c){for(var c=this.sortRows(c),d="",j=0;j<=c.length-1;++j)d+='<tr><td class="'+this.getTdClass(j)+'"><img class="arrow" src="http://prosperent.com/resources/img/prosperlinks/arrow.png" /><a href="'+c[j].affUrl+'" class="td-links-pl">'+this.getMerchantEl(c[j].merchant)+this.getPriceEl(c[j].price)+
this._discountImg+"</a></td></tr>";return d},getTdClass:function(d){return 0==d?"prosperent-top-merch-pl":""},getMerchantEl:function(d){d=G({string:d,limit:25});return'<span class="prosperent-price-merch">'+d+"</span>"},getPriceEl:function(d){return'<span class="prosperent-price-pl">$'+d+"</span>"},mainImgUrl:function(d,e){data=this.sortRows(d);return 1==e?data[0].affUrl:data[0].imgUrl}},K=function(c,e,j){if(c.query&&"undefined"!==typeof c.affiliate_url)for(var n="string"===typeof c.query?RegExp("\\b"+
c.query+"\\b","i"):c.query,r=RegExp("\\b"+c.query+"\\b\\s{1}"),g=(j||document.body).childNodes,k=g.length,q=0;q<=k-1;q++){var m=g[q];if(!(-1!=d.inArray(d(m).attr("id"),v.ids())||-1!=d.inArray(d(m).attr("class"),v.className())))if(1===m.nodeType&&-1===(v.excludes()+",").indexOf(m.nodeName.toLowerCase()+",")&&arguments.callee(c,e,m),3===m.nodeType&&n.test(m.data)){var p=m.data.match(RegExp("\\b"+c.query+"\\b","i"));if(-1>=d.inArray(c.query,window.alreadyLinked)){window.alreadyLinked.push(c.query);g=
document.createElement("span");k=document.createElement("a");d.browser.msie&&7>=d.browser.version&&k.setAttribute("className","plinker");k.setAttribute("class","plinker");("undefined"===typeof t||!1==t)&&k.setAttribute("title","Link Added by ProsperLinks");k.setAttribute("id","prosperlink-"+e);k.setAttribute("style",J());k.href="#"+c.query.replace(/[^a-zA-Z0-9\s{1,}]/g,"");k.appendChild(document.createTextNode(p));g.appendChild(k);p=!0==r.test(m.data)&&d.browser.msie&&8>=parseInt(d.browser.version)?
r:n;n=m.parentNode;r=(m.data?m.data:m.childNodes[0].data).replace(p,p==r?g.innerHTML+"&nbsp;":g.innerHTML);p=document.createElement("span");g=document.createDocumentFragment();p.innerHTML=r;d.browser.msie&&8>=parseInt(d.browser.version)&&(p.innerHTML="jqp~"+r,p.innerHTML=p.innerHTML.replace(/jqp~\s{1}/g,"&nbsp;").replace(/jqp~/g," "));for(;p.firstChild;)g.appendChild(p.firstChild);r=g;window.numberOfLinks+=1;return n.replaceChild(r,m)}}}};d(document).ready(function(){window.prosperLinks.selectors=
{a:d("a"),body:d("body"),head:d("head")};if(1===window.wasRun){var c=window.prosperLinks_sendContent,e=window.prosperLinks.selectors.body.clone().find(v.preFilt()).remove().end().html();if(y&&7<D.version)var j=[],n="",e=function(){function c(z){var f="#text"===z.nodeName?d.trim(z.nodeValue):null;return f?(j.push(z),e++,10>e?g.push(f):(e=0,g.push(f+"\n"),n+=g.join(" "),g=[]),!0):!1}a=["body"];b=[];B=this.location;a=a||[];b=b||[];0==a.length&&(a[0]="body");b.push(".prosperent-pl-no-render",".meta",
"#navbar","#subnavbar","#footer","#header",".blog_entry_date","#seo_links","p.header",".vbmenu_popup",".sig",".smallfont",".after_content",".posthead",".userinfo","#thread_info","#similar_threads","#options_block_container",".gB",".postmeta",".twitter_box,link",".h1",".h2",".h3",".h4",".h5",".h6","div[class=widget-content]","div[class=googleAdText]","div[id=ad]","div[id=banner]","div[id=advertisement]","div[id=adv_container]","div[class=ad]","div[class=banner]","div[class=advertisement]","div[class=ad_container]",
"div[id=ads]","div[class*=ArticleAd]","div[id*=googleAdUnitIframe]","div[id*=adBlock]","div[class*=adBlock]","div[id*=siteSub]","div[id=BA]");-1!=B.href.indexOf(".google.")?(b.push("td[class=gac_c]"),b.push("table[id=mbEnd]"),b.push("span[id=taw]"),b.push("td[class=std]"),b.push("table[class=gssb_e]")):-1!=B.href.indexOf(".yahoo.")?(b.push("ul[class=spns reducepx-spnslist]"),b.push("ul[class*=reducepx-spnslist]"),b.push("ul[id=east]")):-1!=B.href.indexOf(".aol.")?(b.push("div[class=sllLink]"),b.push("div[class=n]")):
-1!=B.href.indexOf(".bing.")&&(b.push("div[class=sb_adsW]"),b.push("div[id=sidebar]"));excludes="script,header,footer,strong,applet,embed,object,link,param,select,option,svg,textarea,head,title,meta,link,noscript,a,dt,dd,dl,link,var,style,select,object,img,caption,code,abbr,input,button,h2,h3,h4,h5,h6,cite,label";if(!j.length)for(var x=[],e=0,g=[],f=0,l=a.length;f<l;f++)for(var h=d(a[f]),k=0,m=h.length;k<m;k++){x.push(h[k]);for(g=[];0<x.length;)if(node=x.shift())if(node.hasChildNodes()){children_to_callback=
[];i=0;for(l=node.childNodes.length;i<l;i++)child=node.childNodes[i],child.nodeName&&!c(child)&&-1===(excludes+",").indexOf(child.nodeName.toLowerCase()+",")&&!d(child).parents(b.join(",")).size()&&x.push(child)}else c(node);n+=g.join(" ");g=[]}return n}();e=e.replace(/<\!--[\s\S]*?--\>|<.*?>|{.*?}/g,"").replace(/&nbsp;/g," ").replace(/&amp;/g,"&").replace(/&gt;|&lt;/,"").replace(/[^a-zA-Z&0-9'\s{1}._"\/-]+/g," ").replace(/\w+\s+\d{1,2},\s+\d{4}|\d{2}\-\d{4}/g,"").replace(/(\()?\d{3}(\))?(\s+)?(-\s+)?\d{3}(\s+)?(-)?(\s+)?\d{4}/ig,
"").replace(/\w+(,)?\s+[A-Z]{2}\s+\d{5}((\s+)?(-)?(\s+)?(\d{4}))?/g,"").replace(/[\d{1,}|\w+[//|\-|\s{1}]{1}]\d{1,}[\/|\-|\s{1}|th]?\d+/g,"").replace(/All Rights Reserved|copyright|by:|tags:/ig,"").replace(/\n+|\r\n|\t+|\v+|\r+/g," ").replace(/(,(\s+)?){2,}|(\-(\s+)?){2,}|(\.(\s+)?){2,}/g,"").replace(/^\s+|\s+$/g,"").replace(/\s{2,}/g," ");e=e.substring(0,7E3);c.body=e;H.match();window.prosperLinks.s={init:function(d){this.cor=d},response:function(){if(2==this.cor.responseText)return k(2);null!=this.cor.responseText&&
this.hover()},parsed:function(){switch(this.cor.responseText){case "null":break;case "undefined":break;case "true":return q.init();case "false":return p.init();case "analyticsSuccess":break;default:var c=d.parseJSON(this.cor.responseText);if("undefined"==typeof c||null==c)break;this.resp=c.matches;this.rw=c.rewrites}},getResults:function(){return this.resp},traverse:function(){this.parsed();if("undefined"!==typeof this.resp){for(var d=-1,c=0;c<=this.resp.length-1;++c)d+=1,this.resp[c].which=this.resp[c].thread+
d,null!=this.resp[c]&&("undefined"!=this.resp[c]&&null!=this.resp[c].keyword&&""!=this.resp[c].productId&&window.numberOfLinks<=A-1)&&(K(this.resp[c],this.resp[c].which),window.prosperLinks_results.push(this.resp[c]));1==window.numberOfLinks&&this.analytics()}},analytics:function(){return u.init()},replaceAffUrls:function(){this.traverse();null!=this.rw&&"undefined"!=typeof this.rw&&("undefined"===typeof C||!0==C)&&H.replace(this.rw)},clickEvent:function(){this.replaceAffUrls();var c=window.prosperLinks_results;
0<c.length&&d("a.plinker").each(function(){d(this).click(function(){for(var e=0;e<=c.length-1;e++){var g=d(this).attr("id");c[e].query.replace(/\s{1,}|[^a-zA-Z0-9]/g,"");g.replace(/prosperlink-/g,"")==c[e].which&&(d(this).attr("href","javascript:void(0);"),location.href=c[e].affiliate_url)}})})},hover:function(){this.clickEvent();if("undefined"!==typeof t&&!0==t){resp=window.prosperLinks.s.getResults();this.lastWindowWidth=d(window).width();this.boxes(this.lastWindowWidth);var c=d("div.mainWrap-pl"),
e;d(window).resize(function(){clearTimeout(e);e=setTimeout(function(){d(window).width()!=this.lastWindowWidth&&(this.lastWindowWidth=d(window).width(),c.remove(),window.prosperLinks.s.boxes(this.lastWindowWidth))},100)})}},elements:function(c,e){return{mainDivWrap:{el:"div",att:[{name:"className",av:d.browser.msie&&7>=d.browser.version?"prosperent-pl-mainWrap"+c+" mainWrap-pl":""},{name:"class",av:7>=!d.browser.version?"prosperent-pl-mainWrap"+c+" mainWrap-pl":""}]},divWrapped:{el:"div",att:[{name:"id",
av:"div_prosperlink_hover"+c+"_"+e},{name:"className",av:d.browser.msie&&7>=d.browser.version?"prosp_hover"+c+" prosperent-pl":""},{name:"class",av:7>=!d.browser.version?"prosp_hover"+c+" prosperent-pl":""}]}}},queryReplace:function(c,d){exp="undefined"!==typeof d?d:/^\d+|\s{1,}|[^a-zA-Z0-9]/g;return query=c.replace(exp,"")},getKeyword:function(c){return keyword=null!=c?c:""},getInnerDiv:function(c){return{imgCoup:null==c.image_url||""==c.image_url||/\/.(png|jpg|gif)$/.test(c.image_url)?"":'<div class="prosperent-img-wrap-coup"><a href="'+
c.imgHref+'"><img src="'+c.image_url+'" class="prosperent-img-pl-coup"/></div>',img:'<div class="prosperent-img-wrap"><a href="'+c.imgHref+'"><img src="'+c.mainImgUrl+'" class="'+c.imgClass+'" title="'+c.fullKw+'"/></a></div>',shopNow:'<a href="'+c.imgHref+'" class="shopnow-pl" target="_blank">Shop Now</a>',close:'<a class="close-box-pl"></a>',kw:'<a href="'+c.affiliate_url+'" target="_blank" class="pl-a-kw"><span class="prosperent-kw-pl">'+c.keyw+"</span></a>",clear:'<div style="clear:both;"></div>',
logo:'<a href="http://prosperent.com/tools/prosperlinks/ref/403446" target="_blank"><img class="prosplogo-pl" src="http://prosperent.com/resources/img/prosperlinks/prosplogo.png" /></a>'}},mozillaCss:function(){d("table.table-pl tr td").css({height:15});d("a.td-links-pl").css({"padding-top":5});d("a.td-links-pl span").css({"padding-top":2});d("img.arrow").css({"margin-top":6});d("img.discount-pl").css({"margin-top":-1})},boxes:function(c){if("undefined"!==typeof resp){var e=-1;d("a.plinker").each(function(){e+=
1;for(var g=d(this).attr("id"),j=d(this).offset(),f=0;f<=resp.length-1;f++)if(query=window.prosperLinks.s.queryReplace(resp[f].query),g.replace(/prosperlink-/g,"")==resp[f].which){resp[f].keyword=window.prosperLinks.s.getKeyword(resp[f].keyword);var l=70<resp[f].keyword.length&&null!=resp[f].isCoupon?resp[f].keyword.slice(0,70)+" ...":40>=resp[f].keyword.length?resp[f].keyword+"<br/>":null==resp[f].keyword?"":resp[f].keyword;els=window.prosperLinks.s.elements(query,e);wrapper=F(els.mainDivWrap);div=
F(els.divWrapped);keyw=G({string:resp[f].keyword,limit:40});imgClass=null!=resp[f].comparison?"prosperent-img-comp-pl":"prosperent-img-pl";tableData=[{merchant:resp[f].merchant,price:resp[f].price,affUrl:resp[f].affiliate_url,imgUrl:resp[f].image_url}];null!=resp[f].comparison&&d(resp[f].comparison).each(function(){tableData.push({merchant:this.merchant,price:this.price,affUrl:this.affiliate_url,imgUrl:this.image_url})});mainImgUrl=null!=resp[f].comparison?w.mainImgUrl(tableData):resp[f].image_url;
imgHref=null!=resp[f].comparison?w.mainImgUrl(tableData,1):resp[f].affiliate_url;l=window.prosperLinks.s.getInnerDiv({image_url:resp[f].image_url,imgHref:imgHref,mainImgUrl:mainImgUrl,imgClass:imgClass,fullKw:l,affiliate_url:resp[f].affiliate_url,keyw:keyw});""==l.imgCoup&&(d(div).css({width:347,height:100}),d(div).children("div.bottom-logo-pl").css({width:317}));resp[f].isCoupon&&""!=resp[f].coupon_code&&"null"!=resp[f].coupon_code&&null!=resp[f].coupon_code?div.innerHTML=['<a class="close-box-pl"></a>',
l.imgCoup,'<div class="prod-info-pl">',l.kw+'<span class="prosperent-kw-pl" style="margin-top:-22px;color:#777;font-size:10px;">Coupon Code: '+resp[f].coupon_code+"</span></div>"+l.clear+'<div class="bottom-logo-pl">'+l.logo+l.shopNow+"</div>"].join(""):resp[f].isCoupon&&(""==resp[f].coupon_code||"null"==resp[f].coupon_code)?div.innerHTML=['<a class="close-box-pl"></a>',l.imgCoup,'<div class="prod-info-pl">'+l.kw+'<span class="prosperent-kw-pl" style="color:#777;height:35px;display:block;font-size:10px;"></span></div>'+
l.clear+'<div class="bottom-logo-pl">'+l.logo+l.shopNow+"</div>"].join(""):(rows=w.createRows(tableData),div.innerHTML=[l.close,l.img,'<div class="prod-info-pl">'+l.kw+'<div class="comparison" style="margin-left:10px;">'+w._startTable+rows+w._endTable+"</div></div>"+l.clear+'<div class="bottom-logo-pl">'+l.logo+l.shopNow+"</div>"].join(""));wrapper.appendChild(div);document.body.appendChild(wrapper);var h=d(wrapper);h.css({display:"none"});var k=0;null!=resp[f].comparison&&h.css({height:187});resp[f].isCoupon&&
"null"!=resp[f].coupon_code&&h.css({height:103});d(this).hover(function(e){var f=d(window).scrollTop();d.browser.mozilla&&window.prosperLinks.s.mozillaCss();d("a.plinker").css({"z-index":0});d(this).css({"z-index":20001});k+=1;h.clearQueue();1==k&&(h.css({top:e.pageY-h.height()-27}),0>=j.left-h.width()/2&&e.pageX+h.width()/2<=c?(h.css({left:15}),e.pageY-h.height()-27<f&&j.top-h.height()-27<f&&h.css({top:e.pageY+27})):e.pageX+h.width()/2>=c&&0<=j.left+h.width()/2?(h.css({left:c-h.width()-5}),e.pageY-
h.height()-27<f&&j.top-h.height()-27<f&&h.css({top:e.pageY+27})):(e.pageY-h.height()-27<f&&j.top-h.height()-27<f&&h.css({top:e.pageY+27}),h.css({left:e.pageX-256})),d("div.mainWrap-pl").hide(),h.show())});zlink=this;var m=function(c){d(c).mouseleave(function(c){c.stopPropagation();h.clearQueue().delay(3).queue(function(){k=0;d(zlink).css({"z-index":0});h.hide()})})};h.hover(function(c){c.stopPropagation();h.clearQueue();m(h)});d("document:not(div.mainWrap-pl)").click(function(){h.hide()});d("a.close-box-pl").click(function(){h.hide()});
m(this)}})}}};var r={xDomain:function(c,e){var g=new XDomainRequest;g&&(g.open("POST",e),g.onload=function(){try{window.prosperLinks.s.init(g),window.prosperLinks.s.response()}catch(c){}},g.onerror=function(){},g.onprogress=function(){},g.ontimeout=function(){},g.async=!0,g.send(d.param(c)))},xmlHttp:function(c,e){d.ajax({type:"POST",url:e,data:c,xhrFields:{withCredentials:!1},complete:function(c){window.prosperLinks.s.init(c);window.prosperLinks.s.response();return!1}})}},g={bro:d.browser.msie?"ie":
"non-ie",req:1,url:document.URL?document.URL:document.location.href},k=function(c,e){if(d.browser.msie&&window.XDomainRequest)return r.xDomain(c,e),!1;r.xmlHttp(c,e)},q={init:function(){g.uid=403446;g.sid=I;g.limit=A;g.req="undefined";g.affUrls=window.prosperLinks_affUrls;for(var c in m)g.thread=c,k(g,"http://prosperent.com/affiliate/prosplinks/index")}},m={brands:function(){},coupons:function(){},merchants:function(){},affUrls:function(){}},p={init:function(){g.req=2;g.content=window.prosperLinks_sendContent;
return k(g,"http://prosperent.com/affiliate/prosplinks/index")}},s=0,u={init:function(){s+=1;if(1==s)return g.req=3,k(g,"http://prosperent.com/affiliate/prosplinks/index")}};k(g,"http://prosperent.com/affiliate/prosplinks/index")}})});
