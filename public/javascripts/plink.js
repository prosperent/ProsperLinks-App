CloudFlare.define("prosperlinks",["prosperlinks/config","cloudflare/jquery1.7"],function(q,c){var H=q.account_id,p="1"==q.pl_hoverBox?!0:!1,n=q.pl_underline,A=q.pl_limit,C="1"==q.pl_enableLinkAffiliation?!0:!1,D=c.browser,x=D.msie;window.alreadyLinked=[];window.prosperLinks={};window.prosperLinks_sendContent={};window.prosperLinks_affUrls=[];window.numberOfLinks=0;window.prosperLinks_results=[];window.cacheChecks=0;window.wasRun=window.wasRun?window.wasRun+1:1;var w=function(d){var c=document.getElementsByTagName("head")[0],
m=document.createElement(d.e),j="http://prosperent.com"+("link"==d.e?"/resources/css/prosperlinks/"+d.file:"/js/"+d.file);m.src="script"==d.e?j:!1;m.href="link"==d.e?j:!1;m.rel="link"==d.e?"stylesheet":!1;m.type=d.type;c.appendChild(m)},s={css:function(d){w(d)},js:function(d){w(d)},meta:function(d){var e="<meta ",m;for(m in d)e+=m+'="'+d[m]+'" ';c("head").append(e+"/>")}};"undefined"!==typeof p&&!0==p&&(s.css({e:"link",type:"text/css",file:"cloudflare.css"}),x&&s.css({e:"link",type:"text/css",file:7>=
c.browser.version?"ie7.css":"ie.css"}));x&&s.meta({"http-equiv":"X-UA-Compatible",content:"IE=edge"});var t={excludes:function(){return"html,head,style,header,footer,title,link,meta,script,object,iframe,h1,h2,h3,h4,h5,h6,a,button,input,cite,q,applet,param,select,option,svg,strong,textarea,noscript,dt,dd,dl,var,img,caption,code,abbr,label"},ids:function(){return"sidebar footer header navbar subnavbar seo_links thread_info similar_threads options_block_container".split(" ")},className:function(){return"sub jhl meta blog_entry_date header sig smallfont postmeta h1 h2 h3 h4 h5 h6 after_content posthead gB twitter_box".split(" ")},
goog:function(){return regx=/googleads|googleadservices/i},preFilt:function(){return"script,.prosperent-pl-no-render,.meta,#navbar,#subnavbar,header,footer,#sidebar,#footer,#header,.blog_entry_date,#seo_links,p.header,.vbmenu_popup,.sig,.smallfont,strong,applet,embed,object,link,param,select,option,svg,textarea,head,title,meta,link,noscript,a,.after_content,.posthead,.userinfo,dt,dd,dl,#thread_info,#similar_threads,#options_block_container,.gB,.twitter_box,link,var,style,select,object,img,caption,code,abbr,input,button,h2,h3,h4,h5,h6,.h1,.h2,.h3,.h4,.h5,.h6,cite,label,.postmeta"}},
I=function(){var d="undefined"===typeof n||1==n?"text-decoration:underline;":"text-decoration:none;",d="undefined"!==typeof n&&2==n?"text-decoration:none;border-bottom:3px double;":d;return d="undefined"!==typeof n&&"none"==n?"text-decoration:none;":d},E=function(d){el=document.createElement(d.el);c(d.att).each(function(){el.setAttribute(this.name,this.av)});return el},F={_anchors:function(){return window.prosperLinks.selectors.body.find("a")},_html:function(){return document.body.innerHTML},match:function(){var d=
this._anchors();if(null!=d&&"undefined"!=d&&0<d.length)for(var e=0;e<=d.length-1;++e)c(d[e]).addClass("prosp-pl-affrep"+e),this.href=c(d[e]).attr("href"),this.text=c(d[e]).text(),null!=this.href&&("undefined"!=this.href&&this.href.match(/^https?/i))&&(this.match=this.href.match(RegExp("\\b"+window.location.hostname+"\\b","i")),null==this.match&&"undefined"!=this.match&&window.prosperLinks_affUrls.push({text:this.text,href:this.href,classAttr:"prosp-pl-affrep"+e}))},replace:function(d){0<d.length&&
(null!=d&&"undefined"!=d)&&window.prosperLinks.selectors.a.each(function(){c(this).click(function(){for(var e=0;e<=d.length-1;++e)!0==c(this).hasClass(d[e][0].classAttr)&&(c(this).attr("href","javascript:void(0);"),location.href=d[e][0].affiliate_url)})})}};c("a").each(function(){!0==t.goog().test(c(this).attr("href"))&&c(this).parent().addClass("prosperent-pl-no-render")});var u={_discountImg:'<img class="discount-pl" src="http://prosperent.com/resources/img/prosperlinks/discount3.png" />',_startTable:'<table class="table-pl" cellpadding="0" cellspacing="0">',
_endTable:"</table>",_arrow:'<img class="arrow" src="http://prosperent.com/resources/img/prosperlinks/arrow.png" />',init:function(){},sortRows:function(d){d.sort(function(d,c){return d.price-c.price});return d},createRows:function(d){for(var d=this.sortRows(d),c="",m=0;m<=d.length-1;++m)var j='<a href="'+d[m].affUrl+'" class="td-links-pl">'+this.getMerchantEl(d[m].merchant)+this.getPriceEl(d[m].price)+this._discountImg+"</a>",c=c+this.row(this.col(this._arrow+j,m));return c},row:function(c){return"<tr>"+
c+"</tr>"},col:function(c,e){return'<td class="'+this.getTdClass(e)+'">'+c+"</td>"},getTdClass:function(c,e){return 0==c?"prosperent-top-merch-pl":"undefined"==typeof e||""==e?"":e},getMerchantEl:function(c){c=25<c.length?c.slice(0,25)+" ...":c;return'<span class="prosperent-price-merch">'+c+"</span>"},getPriceEl:function(c){return'<span class="prosperent-price-pl">$'+c+"</span>"},mainImgUrl:function(c,e){data=this.sortRows(c);return 1==e?data[0].affUrl:data[0].imgUrl}},J=function(d,e,m){if(d.query&&
"undefined"!==typeof d.affiliate_url)for(var j=(d.query+"").replace(RegExp("[.\\\\+*?\\[\\^\\]$(){}=!<>|:\\`-]","g"),"\\$&"),v="string"===typeof d.query?RegExp("\\b"+j+"\\b","i"):d.query,g=RegExp("\\b"+d.query+"\\b\\s{1}"),h=(m||document.body).childNodes,k=h.length,n=0;n<=k-1;++n)if(j=h[n],!(-1!=c.inArray(c(j).attr("id"),t.ids())||-1!=c.inArray(c(j).attr("class"),t.className())))if(1===j.nodeType&&-1===(t.excludes()+",").indexOf(j.nodeName.toLowerCase()+",")&&arguments.callee(d,e,j),3===j.nodeType&&
v.test(j.data)&&(j.data.match(v),-1>=c.inArray(d.query,window.alreadyLinked))){window.alreadyLinked.push(d.query);h=document.createElement("span");k=document.createElement("a");c.browser.msie&&7>=c.browser.version&&k.setAttribute("className","plinker");k.setAttribute("class","plinker");("undefined"===typeof p||!1==p)&&k.setAttribute("title","Link Added by ProsperLinks");k.setAttribute("id","prosperlink-"+e);k.setAttribute("style",I());k.href="#"+d.query.replace(/[^a-zA-Z0-9\s{1,}]/g,"");k.appendChild(document.createTextNode(d.query));
h.appendChild(k);k=!0==g.test(j.data)&&c.browser.msie&&8>=parseInt(c.browser.version)?g:v;v=j.parentNode;g=(j.data?j.data:j.childNodes[0].data).replace(k,k==g?h.innerHTML+"&nbsp;":h.innerHTML);h=document.createElement("span");k=document.createDocumentFragment();h.innerHTML=g;c.browser.msie&&8>=parseInt(c.browser.version)&&(h.innerHTML="jqp~"+g,h.innerHTML=h.innerHTML.replace(/jqp~\s{1}/g,"&nbsp;").replace(/jqp~/g," "));for(;h.firstChild;)k.appendChild(h.firstChild);frag=k;window.numberOfLinks+=1;
return v.replaceChild(frag,j)}},G=function(c){return'<span class="'+c.cls+'"><a href="'+c.url+'">Find it on <img src="http://prosperent.com/resources/img/prosperlinks/ebay.png" /></a></span>'};c(document).ready(function(){window.prosperLinks.selectors={a:c("a"),body:c("body"),head:c("head")};if(1===wasRun){var d=window.prosperLinks_sendContent,e=window.prosperLinks.selectors.body.clone().find(t.preFilt()).remove().end().html();if(x&&7<D.version)var m=[],j="",e=function(){function d(y){var r="#text"===
y.nodeName?c.trim(y.nodeValue):null;return r?(m.push(y),e++,10>e?g.push(r):(e=0,g.push(r+"\n"),j+=g.join(" "),g=[]),!0):!1}a=["body"];b=[];B=this.location;a=a||[];b=b||[];0==a.length&&(a[0]="body");b.push(".prosperent-pl-no-render",".meta","#navbar","#subnavbar","#footer","#header",".blog_entry_date","#seo_links","p.header",".vbmenu_popup",".sig",".smallfont",".after_content",".posthead",".userinfo","#thread_info","#similar_threads","#options_block_container",".gB",".postmeta",".twitter_box,link",
".h1",".h2",".h3",".h4",".h5",".h6","div[class=widget-content]","div[class=googleAdText]","div[id=ad]","div[id=banner]","div[id=advertisement]","div[id=adv_container]","div[class=ad]","div[class=banner]","div[class=advertisement]","div[class=ad_container]","div[id=ads]","div[class*=ArticleAd]","div[id*=googleAdUnitIframe]","div[id*=adBlock]","div[class*=adBlock]","div[id*=siteSub]","div[id=BA]");-1!=B.href.indexOf(".google.")?(b.push("td[class=gac_c]"),b.push("table[id=mbEnd]"),b.push("span[id=taw]"),
b.push("td[class=std]"),b.push("table[class=gssb_e]")):-1!=B.href.indexOf(".yahoo.")?(b.push("ul[class=spns reducepx-spnslist]"),b.push("ul[class*=reducepx-spnslist]"),b.push("ul[id=east]")):-1!=B.href.indexOf(".aol.")?(b.push("div[class=sllLink]"),b.push("div[class=n]")):-1!=B.href.indexOf(".bing.")&&(b.push("div[class=sb_adsW]"),b.push("div[id=sidebar]"));excludes="script,header,footer,strong,applet,embed,object,link,param,select,option,svg,textarea,head,title,meta,link,noscript,a,dt,dd,dl,link,var,style,select,object,img,caption,code,abbr,input,button,h2,h3,h4,h5,h6,cite,label";
if(!m.length)for(var r=[],e=0,g=[],f=0,h=a.length;f<h;f++)for(var k=c(a[f]),n=0,p=k.length;n<p;n++){r.push(k[n]);for(g=[];0<r.length;)if(node=r.shift())if(node.hasChildNodes()){children_to_callback=[];i=0;for(h=node.childNodes.length;i<h;i++)child=node.childNodes[i],child.nodeName&&!d(child)&&-1===(excludes+",").indexOf(child.nodeName.toLowerCase()+",")&&!c(child).parents(b.join(",")).size()&&r.push(child)}else d(node);j+=g.join(" ");g=[]}return j}();e=e.replace(/<\!--[\s\S]*?--\>|<.*?>|{.*?}/g,"").replace(/&nbsp;/g,
" ").replace(/&amp;/g,"&").replace(/&gt;|&lt;/,"").replace(/[^a-zA-Z&0-9'\s{1}._"\(\)\/-]+/g," ").replace(/\w+\s+\d{1,2},\s+\d{4}|\d{2}\-\d{4}/g,"").replace(/(\()?\d{3}(\))?(\s+)?(-\s+)?\d{3}(\s+)?(-)?(\s+)?\d{4}/ig,"").replace(/\w+(,)?\s+[A-Z]{2}\s+\d{5}((\s+)?(-)?(\s+)?(\d{4}))?/g,"").replace(/[\d{1,}|\w+[//|\-|\s{1}]{1}]\d{1,}[\/|\-|\s{1}|th]?\d+/g,"").replace(/All Rights Reserved|copyright|by:|tags:/ig,"").replace(/\n+|\r\n|\t+|\v+|\r+/g," ").replace(/(,(\s+)?){2,}|(\-(\s+)?){2,}|(\.(\s+)?){2,}/g,
"").replace(/^\s+|\s+$/g,"").replace(/\s{2,}/g," ");e=e.substring(0,7E3);d.body=e;F.match();window.prosperLinks.s={init:function(c){this.cor=c},response:function(){if(2==g.req&&"false"==this.cor.responseText&&(window.cacheChecks++,3<window.cacheChecks))return!1;if(2==this.cor.responseText)return h(2);null!=this.cor.responseText&&this.hover()},parsed:function(){console.log(this.cor.responseText);switch(this.cor.responseText){case "null":break;case "undefined":break;case "true":return k.init();case "false":return s.init();
case "analyticsSuccess":break;default:var d=c.parseJSON(this.cor.responseText);if("undefined"==typeof d||null==d)break;this.resp=d.matches;this.rw=d.rewrites}},getResults:function(){return this.resp},traverse:function(){this.parsed();if(!("undefined"==typeof this.resp||null==this.resp))for(var c=-1,d=0;d<=this.resp.length-1;++d)c+=1,this.resp[d].which=this.resp[d].thread+c,null!=this.resp[d]&&("undefined"!=this.resp[d]&&null!=this.resp[d].keyword&&""!=this.resp[d].productId&&window.numberOfLinks<=
A-1)&&(this.resp[d].ebay=this.ebay(this.resp[d]),J(this.resp[d],this.resp[d].which),window.prosperLinks_results.push(this.resp[d])),1==window.numberOfLinks&&this.analytics()},ebay:function(c){return c.ebay_url},analytics:function(){return w.init()},replaceAffUrls:function(){this.traverse();null!=this.rw&&"undefined"!=typeof this.rw&&("undefined"===typeof C||!0==C)&&F.replace(this.rw)},clickEvent:function(){this.replaceAffUrls();var d=window.prosperLinks_results;0<d.length&&c("a.plinker").each(function(){c(this).click(function(){for(var e=
0;e<=d.length-1;e++){var g=c(this).attr("id");d[e].query.replace(/\s{1,}|[^a-zA-Z0-9]/g,"");g.replace(/prosperlink-/g,"")==d[e].which&&(c(this).attr("href","javascript:void(0);"),location.href="undefined"===typeof p||!1==p&&!1==d[e].isExact?d[e].ebay:d[e].affiliate_url)}})})},hover:function(){this.clickEvent();if("undefined"!==typeof p&&!0==p){resp=window.prosperLinks.s.getResults();this.lastWindowWidth=c(window).width();this.boxes(this.lastWindowWidth);var d=c("div.mainWrap-pl"),e;c(window).resize(function(){clearTimeout(e);
e=setTimeout(function(){c(window).width()!=this.lastWindowWidth&&(this.lastWindowWidth=c(window).width(),d.remove(),window.prosperLinks.s.boxes(this.lastWindowWidth))},100)})}},elements:function(d,e){return{mainDivWrap:{el:"div",att:[{name:"className",av:c.browser.msie&&7>=c.browser.version?"prosperent-pl-mainWrap"+d+" mainWrap-pl":""},{name:"class",av:7>=!c.browser.version?"prosperent-pl-mainWrap"+d+" mainWrap-pl":""}]},divWrapped:{el:"div",att:[{name:"id",av:"div_prosperlink_hover"+d+"_"+e},{name:"className",
av:c.browser.msie&&7>=c.browser.version?"prosp_hover"+d+" prosperent-pl":""},{name:"class",av:7>=!c.browser.version?"prosp_hover"+d+" prosperent-pl":""}]}}},queryReplace:function(c,d){exp="undefined"!==typeof d?d:/^\d+|\s{1,}|[^a-zA-Z0-9]/g;return query=c.replace(exp,"")},getKeyword:function(c){return keyword=null!=c?c:""},getInnerDiv:function(c){return{imgCoup:null==c.image_url||""==c.image_url||/\/.(png|jpg|gif)$/.test(c.image_url)?"":'<div class="prosperent-img-wrap-coup"><a href="'+c.imgHref+
'"></a><img src="'+c.image_url+'" class="prosperent-img-pl-coup"/></div>',img:'<div class="prosperent-img-wrap"><a href="'+c.imgHref+'"><img src="'+c.mainImgUrl+'" class="'+c.imgClass+'" title="'+c.fullKw+'"/></a></div>',shopNow:'<a href="'+c.imgHref+'" class="shopnow-pl" target="_blank">Shop Now</a>',close:'<a class="close-box-pl"></a>',kw:'<a href="'+c.affiliate_url+'" target="_blank" class="pl-a-kw"><span class="prosperent-kw-pl">'+c.keyw+"</span></a>",clear:'<div style="clear:both;"></div>',logo:'<a href="http://prosperent.com/tools/prosperlinks/ref/403446" target="_blank"><img class="prosplogo-pl" src="http://prosperent.com/resources/img/prosperlinks/prosplogo.png" /></a>'}},
mozillaCss:function(){c("table.table-pl tr td").css({height:15});c("a.td-links-pl").css({"padding-top":5});c("a.td-links-pl span").css({"padding-top":2});c("img.arrow").css({"margin-top":6});c("img.discount-pl").css({"margin-top":-1})},boxes:function(d){if("undefined"!==typeof resp){var e=-1;c("a.plinker").each(function(){e+=1;for(var g=c(this).attr("id"),j=c(this).offset(),f=0;f<=resp.length-1;f++)if(!(null==resp[f].query||"undefined"==resp[f].query))if(query=window.prosperLinks.s.queryReplace(resp[f].query),
g.replace(/prosperlink-/g,"")==resp[f].which){resp[f].keyword=window.prosperLinks.s.getKeyword(resp[f].keyword);var h=null!=resp[f].keyword&&null!=resp[f].isCoupon?resp[f].keyword:"";els=window.prosperLinks.s.elements(query,e);wrapper=E(els.mainDivWrap);div=E(els.divWrapped);keyw=resp[f].keyword;imgClass=null!=resp[f].comparison?"prosperent-img-comp-pl":"prosperent-img-pl";tableData=[{merchant:resp[f].merchant,price:resp[f].price,affUrl:resp[f].affiliate_url,imgUrl:resp[f].image_url}];null!=resp[f].comparison&&
c(resp[f].comparison).each(function(){tableData.push({merchant:this.merchant,price:this.price,affUrl:this.affiliate_url,imgUrl:this.image_url})});mainImgUrl=null!=resp[f].comparison?u.mainImgUrl(tableData):resp[f].image_url;imgHref=null!=resp[f].comparison?u.mainImgUrl(tableData,1):resp[f].affiliate_url;h=window.prosperLinks.s.getInnerDiv({image_url:resp[f].image_url,imgHref:imgHref,mainImgUrl:mainImgUrl,imgClass:imgClass,fullKw:h,affiliate_url:resp[f].affiliate_url,keyw:keyw});""==h.imgCoup&&(c(div).css({width:347,
height:100}),c(div).children("div.bottom-logo-pl").css({width:317}));var m=""!=resp[f].promo&&"Null"!=resp[f].promo&&null!=resp[f].promo?'<span class="prosperent-promo-pl">'+resp[f].promo+"</span>":"";if(""!=resp[f].expiration_date&&"null"!=resp[f].expiration_date&&null!=resp[f].expiration_date)var k=new Date,k=Math.ceil(((new Date(resp[f].expiration_date)).getTime()-k.getTime())/864E5),k=7>=k&&0<k?'<span class="prosperent-expD-pl">Expires in '+k+" days!</span>":'<span class="prosperent-expD-pl">Expires Soon!</span>';
else k='<span class="prosperent-expD-pl">Expires Soon!</span>';var n=""!=resp[f].coupon_code&&"null"!=resp[f].coupon_code&&null!=resp[f].coupon_code?'<span class="prosperent-cc-pl">Coupon Code: <span class="coupon-code">'+resp[f].coupon_code+"</span></span>":"";resp[f].isCoupon?div.innerHTML=['<a class="close-box-pl"></a>',h.imgCoup,'<div class="prod-info-pl">'+m+k+h.kw+n+"</div>"+h.clear+'<div class="bottom-logo-pl">'+h.logo+G({cls:"ebay",url:resp[f].ebay})+h.shopNow+"</div>"].join(""):(rows=u.createRows(tableData),
div.innerHTML=[h.close,h.img,'<div class="prod-info-pl comparison-info-pl">'+h.kw+'<div class="comparison" style="margin-left:10px;">'+u._startTable+rows+u._endTable+"</div></div>"+h.clear+'<div class="bottom-logo-pl">'+h.logo+G({cls:"comparison-ebay",url:resp[f].ebay})+"</div>"].join(""));wrapper.appendChild(div);document.body.appendChild(wrapper);var l=c(wrapper);l.css({display:"none"});var p=0;null!=resp[f].comparison&&l.css({height:187});c(this).hover(function(e){var f=c(window).scrollTop();c.browser.mozilla&&
window.prosperLinks.s.mozillaCss();c("a.plinker").css({"z-index":0});c(this).css({"z-index":20001});p+=1;l.clearQueue();1==p&&(l.css({top:e.pageY-l.height()-27}),0>=j.left-l.width()/2&&e.pageX+l.width()/2<=d?(l.css({left:15}),e.pageY-l.height()-27<f&&j.top-l.height()-27<f&&l.css({top:e.pageY+27})):e.pageX+l.width()/2>=d&&0<=j.left+l.width()/2?(l.css({left:d-l.width()-5}),e.pageY-l.height()-27<f&&j.top-l.height()-27<f&&l.css({top:e.pageY+27})):(e.pageY-l.height()-27<f&&j.top-l.height()-27<f&&l.css({top:e.pageY+
27}),l.css({left:e.pageX-256})),c("div.mainWrap-pl").hide(),l.show())});zlink=this;var q=function(d){c(d).mouseleave(function(d){d.stopPropagation();l.clearQueue().delay(3).queue(function(){p=0;c(zlink).css({"z-index":0});l.hide()})})};l.hover(function(c){c.stopPropagation();l.clearQueue();q(l)});c("document:not(div.mainWrap-pl)").click(function(){l.hide()});c("a.close-box-pl").click(function(){l.hide()});q(this);c("table.table-pl tr td").mouseover(function(){c("span.prosperent-price-merch").css({"text-decoration":"underline"})});
c("table.table-pl tr td").mouseleave(function(){c("span.prosperent-price-merch").css({"text-decoration":"none"})})}})}}};var n={xDomain:function(d,e){var g=new XDomainRequest;g&&(g.open("POST",e),g.onload=function(){try{window.prosperLinks.s.init(g),window.prosperLinks.s.response()}catch(c){}},g.onerror=function(){},g.onprogress=function(){},g.ontimeout=function(){},g.async=!0,g.send(c.param(d)))},xmlHttp:function(d,e){c.ajax({type:"POST",url:e,data:d,xhrFields:{withCredentials:!1},complete:function(c){window.prosperLinks.s.init(c);
window.prosperLinks.s.response();return!1}})}},g={bro:c.browser.msie?"ie":"non-ie",req:1,url:document.URL?document.URL:document.location.href},h=function(d,e){if(c.browser.msie&&window.XDomainRequest)return n.xDomain(d,e),!1;n.xmlHttp(d,e)},k={init:function(){g.uid=403446;g.sid=H;g.limit=A;g.req="undefined";for(var c in q)g.thread=c,"affUrls"==c&&(g.affUrls=window.prosperLinks_affUrls),h(g,"http://prosperent.com/affiliate/prosplinks/index")}},q={brands:function(){},coupons:function(){},merchants:function(){},
affUrls:function(){}},s={init:function(){g.req=2;g.content=window.prosperLinks_sendContent;return h(g,"http://prosperent.com/affiliate/prosplinks/index")}},z=0,w={init:function(){z+=1;if(1==z)return g.req=3,h({bro:g.bro,uid:g.uid,sid:g.sid,req:g.req,url:g.url},"http://prosperent.com/affiliate/prosplinks/index")}};h(g,"http://prosperent.com/affiliate/prosplinks/index")}})});
